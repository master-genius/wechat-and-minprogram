# 微信公众号接口开发和小程序开发

本版课程是微信公众号和小程序针对河北师范大学软件工程专业H5方向的课程，开发环境是NodeJS。

课件最终提供pdf文件保证格式一致性。

## 课件命名

每个目录作为一次课程，课程按照章节以及小节编号作为章节顺序安排。每个目录作为一节内容。

## 示例代码

示例代码包括md文件或js文件等，具体按照课程内容安排。

## 课程划分和基本规划

课程主要划分为两大部分：

* 微信公众号开发

* 小程序开发

课程并不严格要求小程序和微信公众号开发的讲授顺序和学习顺序，这两个部分是非常独立的。


## 工具和运行环境

本课程代码运行环境使用Node.js，最好使用Node.js的最新长期支持版，或者是10以上的版本。代码的编写使用自己习惯的开发工具就可以，本人多数使用vim和vscode，极少使用其他开发工具。

微信和小程序需要用到服务器环境，确保自己有一台可以运行Linux和Node.js的主机环境，最好是云主机，而不是轻量级服务器或者是虚拟主机。

云主机自己可以任意配置操作系统，其他环境不支持软件版本切换或者是没有可用版本。

## npm扩展

具备了以上条件以后，开发过程中，框架、扩展库等是不需要自己再开发一套的，至少一开始不会，而到课程结束，就可以自己封装一套微信接口请求库。

### Web框架

服务端开发框架使用了motoboat，motoboat支持HTTP/1.1，支持HTTPS。

### HTTP请求客户端

在开发过程中，还需要主动向微信服务器发起请求调用公众号接口，这需要使用Node.js的HTTP/HTTPS模块作为客户端，但是Node.js提供的接口都比较原始，发起GET请求很方便，用于POST提交表单和上传文件就比较麻烦。

基于这种情况，个人开发了gohttp，就是对HTTP以及HTTPS模块的简单封装，基于Promise，可以方便的进行同步风格的代码编写（结合async/await使用）。

### 数据库扩展

本课程使用了PostgreSQL数据库，pg是PostgreSQL数据库的客户端扩展，支持async/await语法，如果没有接触过PostgreSQL，不需要担心，很快就可以入门。此外，使用MySQL或者是MongoDB也是可以的。
